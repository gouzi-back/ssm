/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: jetty/9.4.42.v20210604
 * Generated at: 2021-08-18 15:08:58 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class index_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(2);
    _jspx_dependants.put("file:/M:/LocalWarehouse/org/apache/taglibs/taglibs-standard-impl/1.2.5/taglibs-standard-impl-1.2.5.jar", Long.valueOf(1629189968984L));
    _jspx_dependants.put("jar:file:/M:/LocalWarehouse/org/apache/taglibs/taglibs-standard-impl/1.2.5/taglibs-standard-impl-1.2.5.jar!/META-INF/c-1_0-rt.tld", Long.valueOf(1425949870000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("    <title>ajax列表</title>\r\n");
      out.write("    ");

        pageContext.setAttribute("APP_PATH",request.getContextPath());
    
      out.write("\r\n");
      out.write("    <script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${APP_PATH}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/static/js/jquery-3.5.1.js\"></script>\r\n");
      out.write("    <link href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${APP_PATH}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/static/bootstrap-3.4.1-dist/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n");
      out.write("    <script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${APP_PATH}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/static/bootstrap-3.4.1-dist/js/bootstrap.min.js\"></script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    <!-- 新增 -->\r\n");
      out.write("    <div class=\"modal fade\" id=\"empAddModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n");
      out.write("        <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("            <div class=\"modal-content\">\r\n");
      out.write("                <div class=\"modal-header\">\r\n");
      out.write("                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n");
      out.write("                    <h4 class=\"modal-title\" id=\"myModalLabel\">新增</h4>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"modal-body\">\r\n");
      out.write("                    <form class=\"form-horizontal\" action=\"\" method=\"post\">\r\n");
      out.write("                        <div class=\"form-group\">\r\n");
      out.write("                            <label for=\"empName\" class=\"col-sm-2 control-label\">员工姓名</label>\r\n");
      out.write("                            <div class=\"col-sm-10\">\r\n");
      out.write("                                <input type=\"text\" name=\"empName\" class=\"form-control\" id=\"empName\" placeholder=\"员工姓名\">\r\n");
      out.write("                                <span  class=\"help-block\"></span>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div class=\"form-group\">\r\n");
      out.write("                            <label for=\"gender\" class=\"col-sm-2 control-label\">员工性别</label>\r\n");
      out.write("                            <div class=\"col-sm-10\">\r\n");
      out.write("                                <input type=\"text\" name=\"gender\" class=\"form-control\" id=\"gender\" placeholder=\"员工性别\">\r\n");
      out.write("                                <span  class=\"help-block\"></span>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div class=\"form-group\">\r\n");
      out.write("                            <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">员工Email</label>\r\n");
      out.write("                            <div class=\"col-sm-10\">\r\n");
      out.write("                                <input type=\"email\" name=\"email\" class=\"form-control\" id=\"inputEmail3\" placeholder=\"员工Email\">\r\n");
      out.write("                                <span  class=\"help-block\"></span>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div class=\"form-group\">\r\n");
      out.write("                            <label for=\"dept\" class=\"col-sm-2 control-label\">员工部门</label>\r\n");
      out.write("                            <div class=\"col-sm-4\">\r\n");
      out.write("                                <select name=\"dId\" class=\"form-control\" id=\"dept\">\r\n");
      out.write("\r\n");
      out.write("                                </select>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                    </form>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"modal-footer\">\r\n");
      out.write("                    <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">取消</button>\r\n");
      out.write("                    <button type=\"button\" class=\"btn btn-primary\" id=\"empSave\">保存</button>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("    <!--修改-->\r\n");
      out.write("    <div class=\"modal fade\" id=\"empUpdateModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n");
      out.write("        <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("            <div class=\"modal-content\">\r\n");
      out.write("                <div class=\"modal-header\">\r\n");
      out.write("                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n");
      out.write("                    <h4 class=\"modal-title\" id=\"myModalLabel1\">修改</h4>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"modal-body\">\r\n");
      out.write("                    <form class=\"form-horizontal\" action=\"\" method=\"post\">\r\n");
      out.write("                        <div class=\"form-group\">\r\n");
      out.write("                            <label for=\"empNameUp\" class=\"col-sm-2 control-label\">员工姓名</label>\r\n");
      out.write("                            <div class=\"col-sm-10\">\r\n");
      out.write("                                <input type=\"text\" name=\"empName\" class=\"form-control\" id=\"empNameUp\" placeholder=\"员工姓名\">\r\n");
      out.write("                                <span  class=\"help-block\"></span>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div class=\"form-group\">\r\n");
      out.write("                            <label for=\"genderUp\" class=\"col-sm-2 control-label\">员工性别</label>\r\n");
      out.write("                            <div class=\"col-sm-10\">\r\n");
      out.write("                                <input type=\"text\" name=\"gender\" class=\"form-control\" id=\"genderUp\" placeholder=\"员工性别\">\r\n");
      out.write("                                <span  class=\"help-block\"></span>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div class=\"form-group\">\r\n");
      out.write("                            <label for=\"inputEmail3Up\" class=\"col-sm-2 control-label\">员工Email</label>\r\n");
      out.write("                            <div class=\"col-sm-10\">\r\n");
      out.write("                                <input type=\"email\" name=\"email\" class=\"form-control\" id=\"inputEmail3Up\" placeholder=\"员工Email\">\r\n");
      out.write("                                <span  class=\"help-block\"></span>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div class=\"form-group\">\r\n");
      out.write("                            <label for=\"deptUp\" class=\"col-sm-2 control-label\">员工部门</label>\r\n");
      out.write("                            <div class=\"col-sm-4\">\r\n");
      out.write("                                <select name=\"dId\" class=\"form-control\" id=\"deptUp\">\r\n");
      out.write("\r\n");
      out.write("                                </select>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                    </form>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"modal-footer\">\r\n");
      out.write("                    <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">取消</button>\r\n");
      out.write("                    <button type=\"button\" class=\"btn btn-primary\" id=\"empUpdate\">保存</button>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("    <div class=\"container\">\r\n");
      out.write("        <!--标题-->\r\n");
      out.write("        <div class=\"row\">\r\n");
      out.write("\r\n");
      out.write("            <div class=\"col-md-12\">\r\n");
      out.write("                <h1>    SSM-增删改查</h1>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"row\">\r\n");
      out.write("            <div class=\"col-md-4 col-md-offset-10\">\r\n");
      out.write("                <button class=\"btn btn-primary\" id=\"empAdd\">新增</button>\r\n");
      out.write("                <button class=\"btn btn-danger\"  id=\"delAll\">删除</button>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"row\">\r\n");
      out.write("            <div class=\"col-md-12\">\r\n");
      out.write("                <table class=\"table table-hover\" id=\"emps_tables\">\r\n");
      out.write("                    <thead>\r\n");
      out.write("                    <tr>\r\n");
      out.write("                        <td>\r\n");
      out.write("                            <input type=\"checkbox\" id=\"check_all\"/>\r\n");
      out.write("                        </td>\r\n");
      out.write("                        <td>员工id</td>\r\n");
      out.write("                        <td>员工姓名</td>\r\n");
      out.write("                        <td>员工性别</td>\r\n");
      out.write("                        <td>员工邮箱</td>\r\n");
      out.write("                        <td>员工部门</td>\r\n");
      out.write("                        <td>操作</td>\r\n");
      out.write("                    </tr>\r\n");
      out.write("                    </thead>\r\n");
      out.write("                    <tbody>\r\n");
      out.write("                    </tbody>\r\n");
      out.write("\r\n");
      out.write("                </table>\r\n");
      out.write("            </div>\r\n");
      out.write("\r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"row\">\r\n");
      out.write("            <div class=\"col-md-6\" id=\"page_info_area\">\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"col-md-6 col-md-offset-8\" id=\"page_nav_area\">\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("    <script type=\"text/javascript\">\r\n");
      out.write("        var totals;\r\n");
      out.write("        var paget;\r\n");
      out.write("        var delNo;\r\n");
      out.write("\r\n");
      out.write("        // 1.页面加载完成以后 直接发送一个ajax数据 要到分页数据\r\n");
      out.write("       $(function () {\r\n");
      out.write("        toPage(1);\r\n");
      out.write("       });\r\n");
      out.write("\r\n");
      out.write("        function toPage(pn) {\r\n");
      out.write("            $(function () {\r\n");
      out.write("                $.ajax({\r\n");
      out.write("                    url:\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/ajaxEmp\",\r\n");
      out.write("                    data:\"pn=\"+pn,\r\n");
      out.write("                    type:\"post\",\r\n");
      out.write("                    success:function (result) {\r\n");
      out.write("                        console.log(result);\r\n");
      out.write("                        //1.解析并显示员工数据\r\n");
      out.write("                        build_emps_table(result);\r\n");
      out.write("                        //2.解析并显示分页信息\r\n");
      out.write("                        build_page_info(result);\r\n");
      out.write("                        //3.显示分页条数据\r\n");
      out.write("                        build_page_nav(result);\r\n");
      out.write("\r\n");
      out.write("                    }\r\n");
      out.write("                });\r\n");
      out.write("            });\r\n");
      out.write("        }\r\n");
      out.write("        //显示员工分页信息\r\n");
      out.write("        function build_emps_table(result) {\r\n");
      out.write("            //清空table表格\r\n");
      out.write("            $(\"#emps_tables tbody\").empty();\r\n");
      out.write("            var emps =result.extend.pageInfo.list;\r\n");
      out.write("            $.each(emps,function (index,item) {\r\n");
      out.write("                    var checkboxTd=$(\"<td><input  type='checkbox' class='check_item'/></td>\");\r\n");
      out.write("                    var empIdTd=$(\"<td></td>\").append(item.empId);\r\n");
      out.write("                    var empNameTd=$(\"<td></td>\").append(item.empName);\r\n");
      out.write("                    var genderTd=$(\"<td></td>\").append(item.gender);\r\n");
      out.write("                    var emailTd=$(\"<td></td>\").append(item.email);\r\n");
      out.write("                    var deptTd=$(\"<td></td>\").append(item.dept.deptName);\r\n");
      out.write("                    var editBtn=$(\"<button></button>\").addClass(\"btn btn-success edit_btn \").append($(\"<span></span>\").addClass(\"glyphicon glyphicon-pencil\").append(\"编辑\"));\r\n");
      out.write("                    //给编辑添加按钮添加自定义属性\r\n");
      out.write("                    editBtn.attr(\"edit-id\",item.empId);\r\n");
      out.write("                    var delBtn=$(\"<button></button>\").addClass(\"btn btn-danger delete_btn\").append($(\"<span></span>\").addClass(\"glyphicon glyphicon-remove-sign\").append(\"删除\"));\r\n");
      out.write("                    //给编辑添加按钮添加自定义属性\r\n");
      out.write("                    delBtn.attr(\"delete_btn\",item.empId);\r\n");
      out.write("                     var btnTd=$(\"<td></td>\").append(editBtn).append(delBtn);\r\n");
      out.write("                    $(\"<tr></tr>\").append(checkboxTd)\r\n");
      out.write("                                  .append(empIdTd)\r\n");
      out.write("                                  .append(empNameTd)\r\n");
      out.write("                                  .append(genderTd)\r\n");
      out.write("                                  .append(emailTd)\r\n");
      out.write("                                  .append(deptTd)\r\n");
      out.write("                                  .append(btnTd)\r\n");
      out.write("                                  .appendTo(\"#emps_tables tbody\") ;\r\n");
      out.write("            })\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        //解析显示分页信息\r\n");
      out.write("        function build_page_info(result) {\r\n");
      out.write("            $(\"#page_info_area\").empty();\r\n");
      out.write("            $(\"#page_info_area\").append(\" 当前第\"+result.extend.pageInfo.pageNum+\"页,总\"+result.extend.pageInfo.pages+\"页，总记录数\"+result.extend.pageInfo.total);\r\n");
      out.write("            totals=result.extend.pageInfo.total;\r\n");
      out.write("            paget=result.extend.pageInfo.pageNum;\r\n");
      out.write("        }\r\n");
      out.write("        //显示分页导航条\r\n");
      out.write("        function build_page_nav(result) {\r\n");
      out.write("            $(\"#page_nav_area\").empty();\r\n");
      out.write("            var ul=$(\"<ul></ul>\").addClass(\"pagination\");\r\n");
      out.write("            var firstPageLi =$(\"<li></li>\").append($(\"<a></a>\").append(\"首页\").attr(\"href\",\"#\"));\r\n");
      out.write("            var beforeLi=$(\"<li></li>\").append($(\"<a></a>\").append(\"&laquo;\").attr(\"href\",\"#\"));\r\n");
      out.write("            //构建元素\r\n");
      out.write("            if(result.extend.pageInfo.hasPreviousPage==false){\r\n");
      out.write("                firstPageLi.addClass(\"disabled\");\r\n");
      out.write("                beforeLi.addClass(\"disabled\");\r\n");
      out.write("            }else {\r\n");
      out.write("                //为元素添加点击翻页的事件\r\n");
      out.write("                firstPageLi.click(function () {\r\n");
      out.write("                    toPage(1)\r\n");
      out.write("                });\r\n");
      out.write("\r\n");
      out.write("                beforeLi.click(function () {\r\n");
      out.write("                    toPage(result.extend.pageInfo.pageNum-1);\r\n");
      out.write("                });\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            var afterLi=$(\"<li></li>\").append($(\"<a></a>\").append(\"&raquo;\").attr(\"href\",\"#\"));\r\n");
      out.write("            var lastPageLi =$(\"<li></li>\").append($(\"<a></a>\").append(\"尾页\").attr(\"href\",\"#\"));\r\n");
      out.write("            //构建元素\r\n");
      out.write("            if(result.extend.pageInfo.hasNextPage==false){\r\n");
      out.write("                afterLi.addClass(\"disabled\");\r\n");
      out.write("                lastPageLi.addClass(\"disabled\");\r\n");
      out.write("            }else {\r\n");
      out.write("                //为元素添加点击翻页的事件\r\n");
      out.write("                afterLi.click(function () {\r\n");
      out.write("                    toPage(result.extend.pageInfo.pageNum+1);\r\n");
      out.write("                });\r\n");
      out.write("\r\n");
      out.write("                lastPageLi.click(function () {\r\n");
      out.write("                    toPage(result.extend.pageInfo.pages);\r\n");
      out.write("                });\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("            //添加首页和前一页的提示\r\n");
      out.write("            ul.append(firstPageLi).append(beforeLi);\r\n");
      out.write("            //123遍历给ul中添加的页码提示\r\n");
      out.write("            $.each(result.extend.pageInfo.navigatepageNums,function (index,item) {\r\n");
      out.write("                var numLi=$(\"<li></li>\").append($(\"<a></a>\").append(item));\r\n");
      out.write("                if (result.extend.pageInfo.pageNum==item){\r\n");
      out.write("                    numLi.addClass(\"active\");\r\n");
      out.write("                }\r\n");
      out.write("                numLi.click(function () {\r\n");
      out.write("                    toPage(item);\r\n");
      out.write("                });\r\n");
      out.write("                ul.append(numLi);\r\n");
      out.write("            })\r\n");
      out.write("            //添加下一页和尾页的提示\r\n");
      out.write("            ul.append(afterLi ).append(lastPageLi);\r\n");
      out.write("\r\n");
      out.write("            var navEle=$(\"<nav></nav>\").append(ul);\r\n");
      out.write("            navEle.appendTo(\"#page_nav_area\");\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("            //点击新增按钮弹出新增框\r\n");
      out.write("            $(\"#empAdd\").click(function () {\r\n");
      out.write("                $(\"#dept\").empty();\r\n");
      out.write("                $(\"#empAddModal form\")[0].reset();\r\n");
      out.write("                //发送ajax请求 查出部门信息\r\n");
      out.write("                $.ajax({\r\n");
      out.write("                    url:\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/deptInfo\",\r\n");
      out.write("                    type: \"GET\",\r\n");
      out.write("                    success:function (result) {\r\n");
      out.write("                        console.log(result)\r\n");
      out.write("                        //$(\"#dept\").append()\r\n");
      out.write("                        $.each(result.extend.deptList,function () {\r\n");
      out.write("                            var optionEle=$(\"<option></option>\").append(this.deptName).attr(\"value\",this.deptId)\r\n");
      out.write("                            optionEle.appendTo(\"#dept\");\r\n");
      out.write("                        })\r\n");
      out.write("                    }\r\n");
      out.write("                })\r\n");
      out.write("                //弹出框\r\n");
      out.write("                $(\"#empAddModal\").modal({\r\n");
      out.write("                    backdrop:\"static\"\r\n");
      out.write("                })\r\n");
      out.write("            });\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        $(\"#empName\").change(function () {\r\n");
      out.write("            //发送ajax校验名字是否重复\r\n");
      out.write("             var empName=this.value;\r\n");
      out.write("            $.ajax({\r\n");
      out.write("                url:\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/checkUser\",\r\n");
      out.write("                data:\"empName=\"+empName,\r\n");
      out.write("                type:\"POST\",\r\n");
      out.write("                success:function (result) {\r\n");
      out.write("                    if (result.code==100){\r\n");
      out.write("                        show_msg(\"#empName\",\"success\",\"用户名可用\");\r\n");
      out.write("                    }else {\r\n");
      out.write("                        show_msg(\"#empName\",\"error\",\"用户名不可用\");\r\n");
      out.write("                    }\r\n");
      out.write("                }\r\n");
      out.write("            })\r\n");
      out.write("        });\r\n");
      out.write("        //保存按钮\r\n");
      out.write("        $(\"#empSave\").click(function () {\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("            //表单的校验\r\n");
      out.write("           if (!validate_add_form()) {\r\n");
      out.write("               return false;\r\n");
      out.write("           }\r\n");
      out.write("            //保存员工\r\n");
      out.write("            saveEmp();\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("        function saveEmp() {\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("            $.ajax({\r\n");
      out.write("                url:\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/saveEmp\",\r\n");
      out.write("                data:  $(\"#empAddModal form\").serialize(),\r\n");
      out.write("                type:\"POST\",\r\n");
      out.write("                success:function (result) {\r\n");
      out.write("\r\n");
      out.write("                        $(\"#empAddModal\").modal('hide');\r\n");
      out.write("                        toPage(totals);\r\n");
      out.write("\r\n");
      out.write("                }\r\n");
      out.write("            })\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        //校验表单数据方法\r\n");
      out.write("        function validate_add_form() {\r\n");
      out.write("            //拿到要校验的数据 用正则表达式\r\n");
      out.write("            var empName= $(\"#empName\").val();\r\n");
      out.write("            var regName=/(^[\\u2E80-\\u9FFF]{2,5}$|(^[a-z0-9_-]{6,16}$))/;\r\n");
      out.write("            if(!regName.test(empName)){\r\n");
      out.write("                show_msg(\"#empName\",\"error\",\"用户名可以是2-5位中文或者6-16位英文数字组合\");\r\n");
      out.write("               // alert(\"用户名可以是2-5位中文或者6-16位英文数字组合\");\r\n");
      out.write("                return  false\r\n");
      out.write("            }else {\r\n");
      out.write("                show_msg(\"#empName\",\"success\",\"\");\r\n");
      out.write("\r\n");
      out.write("            };\r\n");
      out.write("            return  true\r\n");
      out.write("\r\n");
      out.write("        }\r\n");
      out.write("        function show_msg(ele,state,msg) {\r\n");
      out.write("            $(ele).parent().removeClass(\"has-success has-error\");\r\n");
      out.write("            $(ele).next(\"span\").text(\"\");\r\n");
      out.write("            if (\"success\"==state){\r\n");
      out.write("                $(ele).parent().addClass(\"has-success\");\r\n");
      out.write("                $(ele).next(\"span\").text(msg);\r\n");
      out.write("            }else if (\"error\"==state){\r\n");
      out.write("                $(ele).parent().addClass(\"has-error\");\r\n");
      out.write("                $(ele).next(\"span\").text(msg);\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        //修改\r\n");
      out.write("        $(document).on(\"click\",\".edit_btn\",function () {\r\n");
      out.write("\r\n");
      out.write("            $(\"#deptUp\").empty();\r\n");
      out.write("            //发送ajax请求 查出部门信息\r\n");
      out.write("            $.ajax({\r\n");
      out.write("                url:\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/deptInfo\",\r\n");
      out.write("                type: \"GET\",\r\n");
      out.write("                success:function (result) {\r\n");
      out.write("                    console.log(result)\r\n");
      out.write("                    //$(\"#dept\").append()\r\n");
      out.write("                    $.each(result.extend.deptList,function () {\r\n");
      out.write("                        var optionEle=$(\"<option></option>\").append(this.deptName).attr(\"value\",this.deptId)\r\n");
      out.write("                        optionEle.appendTo(\"#deptUp\");\r\n");
      out.write("                    })\r\n");
      out.write("                }\r\n");
      out.write("            })\r\n");
      out.write("            //获取员工\r\n");
      out.write("            getEmpUP($(this).attr(\"edit-id\"));\r\n");
      out.write("\r\n");
      out.write("            $(\"#empUpdate\").attr(\"edit-id\",$(this).attr(\"edit-id\"));\r\n");
      out.write("            delNo=$(this).attr(\"edit-id\");\r\n");
      out.write("            //弹出框\r\n");
      out.write("            $(\"#empUpdateModal\").modal({\r\n");
      out.write("                backdrop:\"static\"\r\n");
      out.write("            })\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("        function getEmpUP(id) {\r\n");
      out.write("            $.ajax({\r\n");
      out.write("                url:\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/getEmpUp/\"+id,\r\n");
      out.write("                type:\"GET\",\r\n");
      out.write("                success:function (result) {\r\n");
      out.write("                        console.log(result)\r\n");
      out.write("                        var emp=result.extend.emp;\r\n");
      out.write("                        $(\"#empNameUp\").val(emp.empName);\r\n");
      out.write("                        $(\"#genderUp\").val(emp.gender);\r\n");
      out.write("                        $(\"#inputEmail3Up\").val(emp.email);\r\n");
      out.write("                        $(\"#empUpdateModal select\").val([emp.dId])\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                }\r\n");
      out.write("            })\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        $(\"#empUpdate\").click(function () {\r\n");
      out.write("            $.ajax({\r\n");
      out.write("                url:\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/empUpdate/\"+$(this).attr(\"edit-id\"),\r\n");
      out.write("                type:\"POST\",\r\n");
      out.write("                data:$(\"#empUpdateModal form\").serialize()+\"&_method=PUT\",\r\n");
      out.write("                success:function (result) {\r\n");
      out.write("                    $(\"#empUpdateModal\").modal('hide');\r\n");
      out.write("                    toPage(paget);\r\n");
      out.write("                }\r\n");
      out.write("\r\n");
      out.write("            })\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        //删除1111\r\n");
      out.write("        $(document).on(\"click\",\".delete_btn\",function () {\r\n");
      out.write("\r\n");
      out.write("            var empName=$(this).parents(\"tr\").find(\"td:eq(2)\").text();\r\n");
      out.write("\r\n");
      out.write("            if (confirm(\"确认删除\"+empName+\"吗\")){\r\n");
      out.write("                $.ajax({\r\n");
      out.write("                    url:\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/del/\"+$(this).attr(\"delete_btn\"),\r\n");
      out.write("                    type:\"GET\",\r\n");
      out.write("                    success:function (result) {\r\n");
      out.write("                        toPage(paget);\r\n");
      out.write("                    }\r\n");
      out.write("                })\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("        //checlbox 全选\r\n");
      out.write("        $(\"#check_all\").click(function () {\r\n");
      out.write("            //$(this).prop(\"checked\");\r\n");
      out.write("            $(\".check_item\").prop(\"checked\",$(this).prop(\"checked\"));\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("        //check_item\r\n");
      out.write("        $(document).on(\"click\",\".check_item\",function () {\r\n");
      out.write("            $(\".check_item\").prop(\"checked\");\r\n");
      out.write("            //判断当前选择元素是不是10个\r\n");
      out.write("           var num= $(\".check_item:checked\").length;\r\n");
      out.write("           if (num==$(\".check_item\").length){\r\n");
      out.write("               $(\"#check_all\").prop(\"checked\",$(\".check_item\").prop(\"checked\"));\r\n");
      out.write("           }else {\r\n");
      out.write("               $(\"#check_all\").prop(\"checked\",null);\r\n");
      out.write("           }\r\n");
      out.write("\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("        //批量删除\r\n");
      out.write("        $(\"#delAll\").click(function () {\r\n");
      out.write("\r\n");
      out.write("            var empName=\"\";\r\n");
      out.write("            var ids=\"\";\r\n");
      out.write("            $.each($(\".check_item:checked\"),function () {\r\n");
      out.write("                empName +=$(this).parents(\"tr\").find(\"td:eq(2)\").text()+\"-\";\r\n");
      out.write("                ids +=$(this).parents(\"tr\").find(\"td:eq(1)\").text()+\"-\";\r\n");
      out.write("            });\r\n");
      out.write("            var empNames= empName.substring(0,empName.length-1);\r\n");
      out.write("            if (confirm(\"确认删除\"+empNames+\"吗\")){\r\n");
      out.write("                $.ajax({\r\n");
      out.write("                    url:\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/delAll/\"+ids,\r\n");
      out.write("                    type:\"GET\",\r\n");
      out.write("                    success:function (result) {\r\n");
      out.write("                        alert(result.msg)\r\n");
      out.write("                        toPage(paget);\r\n");
      out.write("                    }\r\n");
      out.write("                });\r\n");
      out.write("            }\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("    </script>\r\n");
      out.write("</head><body>\r\n");
      out.write("\r\n");
      out.write("</body>\r\n");
      out.write("</html>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
